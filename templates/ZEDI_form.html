<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>ZEDI website</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretty-checkbox@3.0/dist/pretty-checkbox.min.css" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">

  <h1>ZEDI Data Form</h1>
</head>

<body>
  <style>
    h1 {
      text-align: center;
    }

    body {
      padding: 20px;
    }

    .col-12 {
      text-align: center;
    }
  </style>
  <script type="text/javascript">
    function POPUP_check() {
      var s_date_1s = new Date(document.getElementById("s_1s").value.substring(0, 10))
      var e_date_1s = new Date(document.getElementById("e_1s").value.substring(0, 10))
      var s_date_5m = new Date(document.getElementById("s_5m").value.substring(0, 10))
      var e_date_5m = new Date(document.getElementById("e_5m").value.substring(0, 10))
      var node_id = parseInt(document.getElementById("node_id").value)
      var diff_1s = (e_date_1s.getTime() - s_date_1s.getTime()) / (1000 * 3600 * 24);
      var diff_5m = (e_date_5m.getTime() - s_date_5m.getTime()) / (1000 * 3600 * 24);

      if (node_id < 0 || node_id > 999) {
        window.alert("Node no must be between 000 and 999")
      }
      else if (diff_1s > 12) {
        alert("Range between start date and end date for 1s is more than 13 days")
      }
      else if (diff_1s < 0) {
        alert("Range between start date and end date for 1s is negative")
      }
      else if (diff_5m > 365) {
        alert("Range between start date and end date for 5m is more than 365 days")
      }
      else if (diff_5m < 0) {
        alert("Range between start date and end date for 5m is negative")
      }
      else {
        document.getElementById("main_form").submit();
      }
    }  
  </script>
  <form name="passdata" id="main_form" action="." method="post" class="form-floating">
    <div class="input-group mb-4">
      <span class="input-group-text" id="basic-addon1">Node no</span>
      <input type="text" value="0" class="form-control" placeholder="Username" aria-label="Username"
        aria-describedby="basic-addon1" name="node_no_field" id="node_id">
    </div>
    <div class="container overflow-hidden text-center">
      <div class="row gy-5">
        <div class="col-6">
          <label>Start date:</label>
          <input type="datetime-local" name="s_date_1s" id="s_1s" value="2021-03-18T19:29"><br><br>
          <label>End date:</label>
          <input type="datetime-local" name="e_date_1s" id="e_1s" value="2021-03-18T20:29"><br>
        </div>
        <div class="col-6">
          <label>Start date:</label>
          <input type="datetime-local" name="s_date_5m" id="s_5m" value="2021-03-19T19:29"><br><br>
          <label>End date:</label>
          <input type="datetime-local" name="e_date_5m" id="e_5m" value="2021-03-25T20:29"><br>
        </div>
        <div class="col-6">

          <div class="form-check">
            <input class="form-check-input" type="checkbox" name="curr_field" />
            <label class="form-check-label" for="flexCheckDefault">
              Current
            </label>
          </div>

          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="flexCheckDefault2" name="volt_field" />
            <label class="form-check-label" for="flexCheckDefault2">
              Voltage
            </label>
          </div>

          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="flexCheckDefault3" name="freq_field" />
            <label class="form-check-label" for="flexCheckDefault3">
              Frequency
            </label>
          </div>

          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="flexCheckDefault3" name="pow_field" />
            <label class="form-check-label" for="flexCheckDefault3">
              Power
            </label>
          </div>


        </div>
        <div class="col-6">

          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="flexCheckDefault" name="temp_field" />
            <label class="form-check-label" for="flexCheckDefault">
              Temperature
            </label>
          </div>

          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="flexCheckDefault2" name="hum_field" />
            <label class="form-check-label" for="flexCheckDefault2">
              Humidity
            </label>
          </div>

          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="flexCheckDefault3" name="pres_field" />
            <label class="form-check-label" for="flexCheckDefault3">
              Pressure
            </label>
          </div>

          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="flexCheckDefault3" name="aqi_field" />
            <label class="form-check-label" for="flexCheckDefault3">
              AQI
            </label>
          </div>

          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="flexCheckDefault3" name="co2_field" />
            <label class="form-check-label" for="flexCheckDefault3">
              CO2
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="flexCheckDefault3" name="pir1_field" />
            <label class="form-check-label" for="flexCheckDefault3">
              PIR1
            </label>
          </div>
          <div class="form-check">
            <input class="form-check-input" type="checkbox" id="flexCheckDefault3" name="pir2_field" />
            <label class="form-check-label" for="flexCheckDefault3">
              PIR2
            </label>
          </div>

        </div>
      </div>
    </div>
    <div class="col-12">
      <button class="btn btn-primary" type="button" onclick="POPUP_check()">Submit form</button>
    </div>
  </form>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8"
    crossorigin="anonymous"></script>
</body>

</html>
